## Деревья выражений


### Обратная польская запись

Арифметическое выражение можно представить в виде синтаксического дерева. Например, $(2+3) * (4-1)$ представляется так:

![Рис. 4](/images/algorithms/expr_trees/tree1.png)

Обратная польская запись выражения получается в результате обратного обхода синтаксического дерева [Ахо, с. 82].
При обратном обходе дерева сначала просматриваются все поддеревья, а потом корень. Другими словами, обходим дерево слева направо, снизу вверх. 
В данном примере получим строку: $2\ 3\ +\ 4\ 1\ -\ *$.

Обратная польская запись также носит название постфиксной записи выражения.

В обратной польской записи отсутствуют скобки и отсутствует неявный приоритет операций.

Чтобы вычислить результат выражения, нужно просмотреть строку слева направо. Если встречаем
операнд, мы помещаем его в стек. Если встречаем знак операции, то мы извлекаем 2 операнда из стека и выполняем над ними вышеуказанную операцию, и результат помещаем в стек.
После проведения вычислений в стеке останется результат операции.

Нам понадобится 1 стек, и 1 раз нужно просмотреть выражение слева направо, поэтому вычисление выражения в обратной польской записи эффективно.


### Литература

[Ахо] [Ахо, Хопкрофт, Ульман -- Структуры данных и алгоритмы (2000)](https://yadi.sk/i/S0l1uKNKi7r1Pg) -- С. 82

[Кубенский] [Кубенский -- Структуры и алгоритмы обработки данных: объектно-ориентированный подход и реализация на C++ (2004)](https://disk.yandex.ru/i/NuDEInbMJZnLhw) -- С. 234

[Обратная польская запись](https://www.intuit.ru/studies/courses/2193/67/lecture/1980?page=5)